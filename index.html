<!DOCTYPE html>
<html lang="en">
<head>
<script>
    (function(){
        if(sessionStorage.redirect) {
            const redirect = sessionStorage.redirect;
            delete sessionStorage.redirect;
            window.history.replaceState({}, document.title, '/');
            window.location.href = redirect;
        }
    })();
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bee's Editing Services</title>
    <style>
        :root {
            --dark-grey: #2D2D2D;
            --pastel-yellow: #FFED99;
            --accent: #FFF5CC;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--dark-grey);
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-button {
            background-color: var(--pastel-yellow);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            opacity: 1;
        }

        .tab-button.hidden-tab {
            display: none;
            opacity: 0;
        }

        .tab-button:hover {
            transform: translateY(-2px);
        }

        .content-box {
            background-color: var(--pastel-yellow);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Existing styles remain the same */

    </style>
</head>
<body>
    <div class="container">
        <div class="tabs">
            <button class="tab-button" onclick="showContent('welcome', '/')">Welcome!</button>
            <button class="tab-button" onclick="showContent('commission', '/commission-info')">Commission Info</button>
            <button id="portfolioTab" class="tab-button hidden-tab" onclick="showContent('portfolio', '/editing-portfolio')">Editing Portfolio</button>
        </div>

        <!-- Welcome Content -->
        <div id="welcome" class="content-box">
            <!-- Content remains the same -->
        </div>

        <!-- Commission Info Content -->
        <div id="commission" class="content-box hidden">
            <!-- Content remains the same -->
        </div>

        <!-- Portfolio Content (Hidden until unlocked) -->
        <div id="portfolio" class="content-box hidden">
            <div class="portfolio-section">
                <h2>Editing Portfolio</h2>
                <h3>Long-form Videos</h3>
                <ul>
                    <li>Agamatsu</li>
                    <li>Deepwokenâ€™s Hardest PvE Event</li>
                    <!-- Add all other portfolio items -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        let visited = {
            welcome: false,
            commission: false,
            portfolio: false
        };

        // Initialize history state
        window.history.replaceState({ tab: 'welcome' }, '', '/');

        function showContent(contentId, path) {
            // Update URL
            window.history.pushState({ tab: contentId }, '', path);

            // Handle tab visibility
            const portfolioTab = document.getElementById('portfolioTab');
            if (contentId === 'commission') {
                portfolioTab.classList.remove('hidden-tab');
                setTimeout(() => {
                    portfolioTab.style.opacity = '1';
                }, 10);
            }

            // Handle animations
            const elements = ['welcome', 'commission', 'portfolio'];
            elements.forEach(id => {
                const el = document.getElementById(id);
                if (id === contentId) {
                    if (!visited[id]) {
                        el.style.animation = 'fadeIn 0.5s ease-in';
                        visited[id] = true;
                    }
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });
        }

        // Handle browser navigation
        window.addEventListener('popstate', (event) => {
            if (event.state) {
                showContent(event.state.tab, 
                    event.state.tab === 'welcome' ? '/' : 
                    event.state.tab === 'commission' ? '/commission-info' : 
                    '/editing-portfolio');
            }
        });

        // Initial load
        document.getElementById('welcome').style.animation = 'fadeIn 0.5s ease-in';
        visited.welcome = true;
    </script>
</body>
</html>